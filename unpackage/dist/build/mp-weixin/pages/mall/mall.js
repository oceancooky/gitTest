(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mall/mall"],{"28e8":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=l(e("9b12")),n=l(e("1473")),o=l(e("3764")),s=l(e("9110"));function l(t){return t&&t.__esModule?t:{default:t}}var d={components:{goods:i.default,loadMore:n.default,naData:s.default,loading:o.default},data:function(){return{currentTab:0,cat_id:0,field:0,tabs:[],list:[],nodata:!1,nodataText:"当前分类还没有商品哦~",loadingType:0,page_num:1,page_size:8,backTopValue:!1,isLoading:!1,delyTime:800}},onPullDownRefresh:function(){var a=this;this.loadingType=0,setTimeout(function(){a.list=[],a.page_num=1,a.getList(),t.stopPullDownRefresh()},800)},onReachBottom:function(){0===this.loadingType&&(this.delyTime=800,this.loadingType=1,this.page_num=this.page_num+1,console.log(this.page_num),this.getList())},onPageScroll:function(t){var a=t.scrollTop,e=a>400;this.backTopValue=e},onLoad:function(a){this.field=a.field;var e="";e=0==a.field?"热卖专区":1==a.field?"购物商城":"积分商城",t.setNavigationBarTitle({title:e}),this.showLoading(),this.gettabs(),this.getList()},methods:{tabChange:function(t){this.currentTab=t,this.cat_id=this.tabs[t].id,this.loadingType=0,this.page_num=1,this.list=[],this.delyTime=0,this.getList()},showLoading:function(){var t=this;this.isLoading=!0,setTimeout(function(){t.isLoading=!1},800)},gettabs:function(){var a=this;this.$api.get("/api/category/getCategory",{field:this.field},function(e){if(200==e.data.code){var i=e.data.data;i.length>0&&i.unshift({name:"全部",id:0}),a.tabs=e.data.data}else t.showToast({title:e.data.msg,icon:"none"})})},getList:function(){var t=this;this.nodata=!1,this.$api.get("/api/category/getGoodsByCategory",{field:this.field,cat_id:this.cat_id,page_size:this.page_size,page_num:this.page_num},function(a){if(200==a.data.code){var e=t.list,i=a.data.data;setTimeout(function(a){0==e.length?(t.loadingType=0,i.length<=0?t.nodata=!0:t.list=i):i.length<=0?t.loadingType=2:(t.loadingType=0,t.list=e.concat(i))},t.delyTime)}})},backTop:function(){t.pageScrollTo({scrollTop:0})}}};a.default=d}).call(this,e("543d")["default"])},"2f87":function(t,a,e){"use strict";var i=e("fa9a"),n=e.n(i);n.a},"450e":function(t,a,e){"use strict";e.r(a);var i=e("683a"),n=e("702d");for(var o in n)"default"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);e("2f87");var s=e("2877"),l=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,null,null);a["default"]=l.exports},"683a":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",[e("scroll-view",{attrs:{"scroll-x":"","scroll-with-animation":"true"}},[t.tabs.length>0?e("view",{staticClass:"top_tap",class:t.tabs.length<6?"tabflex":""},t._l(t.tabs,function(a,i){return e("view",{key:i,staticClass:"top_tap_item",class:t.currentTab==i?"on":"",attrs:{eventid:"da1a824a-0-"+i},on:{tap:function(a){t.tabChange(i)}}},[t._v(t._s(a.name))])})):t._e()]),e("view",{staticClass:"goods_wrap",class:{martop20:0==t.tabs.length}},t._l(t.list,function(a,i){return e("view",{key:i},[e("goods",{attrs:{goodsinfo:a,field:t.field,mpcomid:"da1a824a-0-"+i}})],1)})),e("loadMore",{attrs:{loadingType:t.loadingType,contentText:t.contentText,mpcomid:"da1a824a-1"}}),e("naData",{attrs:{nodata:t.nodata,nodataText:t.nodataText,mpcomid:"da1a824a-2"}}),e("view",{staticClass:"toTop",class:{active:t.backTopValue},attrs:{eventid:"da1a824a-1"},on:{tap:t.backTop}},[e("image",{attrs:{src:"/static/img/top.png"}})]),e("loading",{attrs:{isLoading:t.isLoading,mpcomid:"da1a824a-3"}})],1)},n=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n})},"702d":function(t,a,e){"use strict";e.r(a);var i=e("28e8"),n=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,function(){return i[t]})}(o);a["default"]=n.a},eaf9:function(t,a,e){"use strict";e("c0c8");var i=o(e("b0ce")),n=o(e("450e"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(n.default))},fa9a:function(t,a,e){}},[["eaf9","common/runtime","common/vendor"]]]);