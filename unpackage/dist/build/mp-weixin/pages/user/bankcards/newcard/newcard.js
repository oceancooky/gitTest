(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/bankcards/newcard/newcard"],{"031d":function(t,n,e){},"523a":function(t,n,e){"use strict";e.r(n);var a=e("b951"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);n["default"]=i.a},"773a":function(t,n,e){"use strict";var a=e("031d"),i=e.n(a);i.a},"8b6e":function(t,n,e){"use strict";e("c0c8");var a=o(e("b0ce")),i=o(e("e324"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},b951:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{bank:["中国工商银行","中国农业银行","中国银行","中国建设银行","中国邮政储蓄银行","交通银行"],index:0}},onLoad:function(){},methods:{bindPickerChange:function(t){console.log(t),this.index=t.target.value},addCard:function(n){var e=this,a=/^[\u4e00-\u9fa5]{2,4}$/,i=/^([1-9]{1})(\d{15}|\d{16}|\d{18})$/;return a.test(n.detail.value.name)?i.test(n.detail.value.cardNum)?""==n.detail.value.branchBank?t.showToast({title:"请输入支行名称",icon:"none"}):void t.showModal({title:"",content:"请务必填写正确的姓名、银行卡号、支行名称",confirmText:"添加",success:function(t){t.confirm&&e.sendData(n)}}):t.showToast({title:"请输入正确的银行卡号",icon:"none"}):t.showToast({title:"请输入正确的姓名",icon:"none"})},sendData:function(n){console.log(n),this.$api.post("/api/bankcard/addCard",{bank:this.bank[this.index],card_no:n.detail.value.cardNum,username:n.detail.value.name,sub_bank:n.detail.value.branchBank},function(n){console.log(n),200==n.data.code?(t.showToast({title:n.data.msg}),setTimeout(function(){t.navigateBack()},1e3)):t.showToast({title:n.data.msg,icon:"none"})})}}};n.default=e}).call(this,e("543d")["default"])},d79d:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("view",[e("view",{staticClass:"content padding-content menu menu-title bor-bot"},[t._v("银行卡信息")]),e("form",{attrs:{eventid:"54732379-1"},on:{submit:t.addCard}},[e("view",{staticClass:"padding-content content"},[e("view",{staticClass:"menu"},[e("input",{attrs:{type:"text",placeholder:"请输入姓名",name:"name"}})]),e("view",{staticClass:"menu more more-b"},[e("picker",{attrs:{value:t.index,range:t.bank,eventid:"54732379-0"},on:{change:t.bindPickerChange}},[e("view",[t._v("请选择开户银行： "+t._s(t.bank[t.index]))])])],1),e("view",{staticClass:"menu"},[e("input",{attrs:{type:"text",placeholder:"支行名称",name:"branchBank"}})]),e("view",{staticClass:"menu"},[e("input",{attrs:{type:"number",placeholder:"请输入银行卡号",name:"cardNum"}})])]),e("view",{staticClass:"tips padding-content"},[t._v("* 必须输入真实有效的银行账号，对应姓名，对应银行名称，开户支行")]),e("view",{staticClass:"padding-content mar-top"},[e("button",{staticClass:"big-btn",attrs:{formType:"submit"}},[t._v("确认添加")])],1)])],1)},i=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i})},e324:function(t,n,e){"use strict";e.r(n);var a=e("d79d"),i=e("523a");for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);e("773a");var s=e("2877"),c=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,null,null);n["default"]=c.exports}},[["8b6e","common/runtime","common/vendor"]]]);